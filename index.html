<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Quiz</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="header">
        <p class="highscore-viewer"></p>
        <p class="timer">Time left: <span id="seconds">60</span></p>
    </header>
    <!-- <div class="center-page"></div> -->

    <div id="buttons"></div>

    <!-- SCRIPT -->
    <script>
        //Stuff that is always in the header
        var viewHighscore = document.querySelector(".highscore-viewer");
        var countDown = document.querySelector("#timer");
        // var center = document.querySelector(".center-page"); deal with this later

        viewHighscore.textContent = "View Highscores";


        //add eventlistener for viewing highscores
        viewHighscore.addEventListener("click", highScores);


        function highScores() {
            var highDiv = document.createElement("h1");
            introPage.textContent = "Highscores:";
            pTag.textContent = "Highest past quiz scores";
            startQuiz.setAttribute("style", "display: none;");
            document.body.appendChild(highDiv);

            var scoreDiv = document.createElement("div");
            scoreDiv.setAttribute("class", "highscores");
            document.body.appendChild(scoreDiv);
            // viewHighscore.addEventListener("click", homePage);
            // console.log(scoreDiv);
            //create a page of saved highscores 
            //add a home button (returns to description page of quiz)
        }

        ///////////////first "page" describing quiz etc.///////////////////////////////////////////////
        // function homePage () {} (this will be a function later when home button is pressed)
        // var mainDiv = createElement("div")
        var introPage = document.createElement("h1");
        var pTag = document.createElement("p");
        var startQuiz = document.createElement("button");

        // mainDiv.setAttribute("style", "textAlign: center;");
        introPage.textContent = "Javascript Fundamentals Quiz";
        // introPage.setAttribute("style", "textAlign: center;");
        document.body.appendChild(introPage);
        pTag.textContent =
            "This is a short multiple-choice quiz to determine your aptitude for Javascript programming.";
        document.body.appendChild(pTag);
        startQuiz.textContent = "Start!";
        document.body.appendChild(startQuiz);



        //need event listener for start button:
        startQuiz.addEventListener("click", takeQuiz);



        //////////////function where TIMER starts///////////////////////////////////////////////////////////
        var timerEl = document.getElementById("seconds");
        var secondsLeft = 60;
        // console.log(secondsLeft);

        // console.log(timer);

        function startTimer() {
            var timerInterval = setInterval(function () {
                timerEl.textContent = secondsLeft;
                secondsLeft--; //decrement by 1 
                // console.log(secondsLeft);
                if (secondsLeft === 0) {
                    clearInterval(timerInterval);
                    console.log("end time");
                    // endGame();
                } else {
                    // endGame();
                }
            }, 1000);


        }
        /////////function to BEGIN TAKING QUIZ/////////////////////////////////////////////////////////
        function takeQuiz() {
            //select where quiz will go
            // var bodyCenter = document.querySelector(".center-page");
            // //create element for question
            // var questionEl = document.createElement("h1");
            startTimer();
            renderQuestions();

            // function endGame() {
            //     introPage.textContent = "Game Over!";
            // }
            // document.body.addEventListener("click", function () {
            //     console.log("clicked");
            //     if (){

            //     }
            // }
        }
        var questionCounter = 0;
        
        function renderQuestions() {
                
                

                //create array of objects with questions and answers
                var questions = [{
                        question: "Commonly used data types DO NOT include:",
                        choices: ["strings", "booleans", "alerts", "numbers"],
                        answer: "alerts"

                    },
                    {
                        question: "The condition in an if/else statement is enclosed within _____.",
                        choices: ["blee", "blah", "bloo", "blop"],
                        answer: "bloo"

                    },
                    {
                        question: "The sky is which color?",
                        choices: ["pink", "yellow", "green", "blue"],
                        answer: "blue"

                    },
                    {
                        question: "Is quarantine: ",
                        choices: ["fun", "stupid", "weird", "not great"],
                        answer: "weird"

                    }
                ];

                //just make qestions appear on page

                // for (i = 0; i < questions.length; i++) {
                    introPage.textContent = questions[questionCounter].question;
                    pTag.textContent = "";
                    startQuiz.setAttribute("style", "display: none;");


                    // var newQuestion = document.createElement("div");
                    var divTag = document.querySelector("#buttons");
            console.log(divTag);

                for (i = 0; i < questions[questionCounter].choices.length; i++) {
                    var newButton = document.createElement("button");
                    newButton.textContent = questions[questionCounter].choices[i];
                    newButton.setAttribute("value", questions[questionCounter].choices[i]);
                    newButton.setAttribute("class", "answer-button");
                    divTag.appendChild(newButton);
                }
                    // document.body.appendChild(newQuestion);
                    var correctAnswer = questions[questionCounter].answer;
                    console.log(correctAnswer);
                    
            }

            
            
    document.querySelector("div").addEventListener("click", function(e){
        console.log(e.target); 
        questionCounter++;
        renderQuestions();
// //     if = e.target.match("button").value,
// //      compare with correct answer "alerts"
// //      if equal, move to next q, increment questions counter and call renderQuestions();
// //      else lose seconds

    })
    </script>

</body>

</html>